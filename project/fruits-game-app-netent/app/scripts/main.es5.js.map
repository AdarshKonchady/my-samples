{"version":3,"sources":["main.js"],"names":[],"mappings":"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","file":"main.es5.js","sourcesContent":["(function () {\n  class GameApp {\n    constructor(gameContainer, reload) {\n      this.gameContainer = document.getElementById(`${gameContainer}`);\n      this.reloadButton = document.getElementById(reload);\n\n      if (this.reloadButton) {\n        const self = this;\n        this.reloadButton.addEventListener('click', () => {\n          self.loadGame();\n        });\n      }\n    }\n\n    fetch(url) {\n      if (typeof fetch !== 'undefined') {\n        return fetch(url);\n      } else {\n        return new Promise((resolve) => {\n          var req = new XMLHttpRequest();\n          req.onreadystatechange = function() {\n            if (this.readyState == 4) {\n              const data = JSON.parse(this.responseText);\n              resolve(data);\n            }\n          };\n          req.open('GET', url, true);\n          req.send();\n        });\n      }\n    }\n\n    loadGame() {\n      this.reloadButton.classList.add('hide');\n      this.fetch('http://localhost:8082/').then(function(response) {\n        if (response.json) {\n          return response.json();\n        } else {\n          return response;\n        }\n      }).then(data => {\n        const { outcomes = [], bonus = false } = data;\n        const winType = this.findWin(outcomes);\n        this.render(outcomes, winType);\n\n        if (bonus) {\n          alert('You have got a bonus !!! Click OK to reload in 5 seconds...');\n          setTimeout(() => {\n            this.loadGame();\n            this.reloadButton.classList.remove('hide');\n          }, 5000);\n        } else {\n          this.reloadButton.classList.remove('hide');\n        }\n      });\n    }\n\n    findWin(outcomes) {\n      if (outcomes[0] === outcomes[1] && outcomes[1] === outcomes[2]) {\n        return 'Big Win!';\n      } else if (outcomes[0] === outcomes[1] || outcomes[0] === outcomes[2] || outcomes[1] === outcomes[2]) {\n        return 'Small Win!';\n      } else if (outcomes[0] !== outcomes[1] && outcomes[0] !== outcomes[2] && outcomes[1] !== outcomes[2]) {\n        return 'No Win!';\n      }\n    }\n\n    render(outcomes, winType) {\n      const template = `\n        <h2 class=\"message\">${winType}</h2>\n        <div class=\"fruit-container\">\n          <div class=\"fruit\">\n            <img src=\"../images/Symbol_${outcomes[0]}.png\" alt=\"\" />\n          </div>\n          <div class=\"fruit\">\n            <img src=\"../images/Symbol_${outcomes[1]}.png\" alt=\"\" />  \n          </div>\n          <div class=\"fruit\">\n            <img src=\"../images/Symbol_${outcomes[2]}.png\" alt=\"\" />\n          </div>\n        </div>\n    `;\n      var dummyDiv = document.createElement('div'); // Creating dummy DIV since IE has issues with innerHTML\n      dummyDiv.innerHTML = template;\n      this.gameContainer.innerText = '';\n      this.gameContainer.appendChild(dummyDiv);\n    }\n  }\n\n  const gameApp = new GameApp('gameContainer', 'reloadGame');\n  gameApp.loadGame();\n})();"]}